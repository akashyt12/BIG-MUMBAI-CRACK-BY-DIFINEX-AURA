<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>BIG MUMBAI ‚Ä¢ ADMIN</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&display=swap" rel="stylesheet">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Orbitron;
  background:radial-gradient(circle at top,#050505,#000);
  color:#00ffcc;
  overflow-x:hidden;
}

/* MATRIX BACKGROUND */
body:before{
  content:"";
  position:fixed;
  inset:0;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(0,255,204,.04) 0px,
      rgba(0,255,204,.04) 1px,
      transparent 2px,
      transparent 4px
    );
  pointer-events:none;
}

.container{
  max-width:950px;
  margin:auto;
  padding:20px;
}

.card{
  background:rgba(0,0,0,.85);
  border-radius:14px;
  padding:16px;
  margin-top:18px;
  border:1px solid rgba(0,255,204,.25);
  box-shadow:0 0 25px rgba(0,255,204,.15);
  animation:fadeUp .6s ease;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:none}
}

input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:none;
  font-family:Orbitron;
}

input{
  background:#000;
  border:1px solid #00ffcc;
  color:#00ffcc;
}

button{
  background:linear-gradient(90deg,#00ffcc,#00aa88);
  color:#000;
  font-weight:700;
  cursor:pointer;
  transition:.25s;
}

button:hover{
  filter:brightness(1.2);
  box-shadow:0 0 15px #00ffcc;
}

button.off{
  background:#111;
  color:#ff5555;
  border:1px solid #ff5555;
}

.status{
  margin-top:8px;
  font-size:12px;
  min-height:14px;
}

.hidden{display:none}

.scan{
  font-size:11px;
  opacity:.6;
  animation:blink 1.5s infinite;
}

@keyframes blink{
  50%{opacity:.2}
}
</style>
</head>

<body>

<!-- üîê LOGIN -->
<div class="container" id="loginBox">
  <div class="card">
    <h3>üîê ADMIN ACCESS</h3>
    <input id="email" placeholder="Email">
    <input id="pass" type="password" placeholder="Password">
    <button onclick="login()">AUTHENTICATE</button>
    <div class="scan">Firewall ‚Ä¢ Encrypt ‚Ä¢ Verify</div>
  </div>
</div>

<!-- üî• ADMIN PANEL -->
<div class="container hidden" id="panel">
  <h2>üü¢ BIG MUMBAI SERVER ONLINE</h2>
  <div id="uids"></div>
  <button onclick="addUID()">‚ûï ADD UID NODE</button>
</div>

<script>
/* ---------------- LOGIN ---------------- */
function login(){
  if(email.value==="admin@gmail.com" && pass.value==="admin902zx"){
    loginBox.classList.add("hidden");
    panel.classList.remove("hidden");
  }else alert("ACCESS DENIED");
}

/* ---------------- FIREBASE ---------------- */
firebase.initializeApp({
  apiKey: "AIzaSyCgUHPXpBvpi0cEF2vQ2z8J-c8jI1cj1ko",
  databaseURL: "https://admin-pannel-de3f4-default-rtdb.firebaseio.com",
  projectId: "admin-pannel-de3f4"
});
const db=firebase.database();

/* ---------------- API (1 MIN) ---------------- */
const API_URL="https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json?pageSize=10&pageNo=1";

let uidCount=0;
let loops={};

/* ---------------- SEED ENGINE ---------------- */
function makeSeed(){
  return Date.now()*53 ^ performance.now()*1000000 ^ Math.floor(Math.random()*88888888);
}

/* ---------------- ADD UID ---------------- */
function addUID(){
  uidCount++;
  uids.innerHTML+=`
  <div class="card">
    <h4>UID NODE ${uidCount}</h4>
    <input id="uid_${uidCount}" placeholder="Enter UID">
    <button onclick="connect(${uidCount})">SERVER CONNECT</button>
    <button class="off" onclick="off(${uidCount})">SERVER OFF</button>
    <div class="status scan" id="st_${uidCount}">Idle</div>
  </div>`;
}

/* ---------------- 3 LEVEL FIX ENGINE ---------------- */
function predictTrend(nums){
  let big=0,small=0;
  nums.forEach(n=>n>=5?big++:small++);

  Math.seedrandom(makeSeed());

  let r1=Math.floor(Math.random()*100);
  let L1= big>small+2 ? "SMALL" : small>big+2 ? "BIG" : (r1<52?"BIG":"SMALL");

  let r2=Math.floor(Math.random()*100);
  let L2=r2>=68 ? (L1==="BIG"?"SMALL":"BIG") : L1;

  let r3=Math.floor(Math.random()*100);
  let L3=r3>=88 ? (L2==="BIG"?"SMALL":"BIG") : L2;

  let num=Math.floor(Math.random()*10);
  return L3+" "+num;
}

/* ---------------- FETCH + SEND ---------------- */
async function send(uid,st){
  const r=await fetch(API_URL+"&t="+Date.now());
  const j=await r.json();
  const nums=j.data.list.map(x=>Number(x.number));
  const res=predictTrend(nums);

  await db.ref("prediction/"+uid).set({
    prediction:res,
    time:Date.now()
  });

  st.innerText="CONNECTED ‚úì | "+res;
}

/* ---------------- CONNECT ---------------- */
function connect(i){
  const uid=document.getElementById("uid_"+i).value;
  const st=document.getElementById("st_"+i);
  if(!uid||loops[uid])return;
  st.innerText="HANDSHAKE...";
  send(uid,st);
  loops[uid]=setInterval(()=>send(uid,st),60000);
}

/* ---------------- OFF ---------------- */
function off(i){
  const uid=document.getElementById("uid_"+i).value;
  const st=document.getElementById("st_"+i);
  if(loops[uid]){
    clearInterval(loops[uid]);
    delete loops[uid];
  }
  db.ref("prediction/"+uid).remove();
  st.innerText="SERVER OFF";
}
</script>

<!-- fake security lib -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>

</body>
</html>
